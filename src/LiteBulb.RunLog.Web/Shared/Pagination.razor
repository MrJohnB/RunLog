@using LiteBulb.RunLog.Web.ViewModels

<p>
	<button type="button" @onclick="HandlePrevious" class="btn btn-primary oi oi-arrow-thick-left"><span class="d-none">Prev</span></button>
	<button type="button" @onclick="HandleNext" class="btn btn-primary oi oi-arrow-thick-right"><span class="d-none">Next</span></button>
	<span>Showing @Paging.CurrentEntityIndex to @Paging.CurrentEntityCount of @Paging.TotalEntityCount entries</span>
</p>

@code {
	[Parameter]
	public EventCallback<EventArgs> OnClickPaging { get; set; }

	[Parameter]
	public PaginationViewModel Paging { get; set; }

	private async Task HandlePrevious()
	{
		if (Paging.PageIndex - Paging.PageSize > 0)
			Paging.PageIndex -= Paging.PageSize;
		else
			Paging.PageIndex = 0;

		await OnClickPaging.InvokeAsync(EventArgs.Empty);
	}
	private async Task HandleNext()
	{
		if (Paging.PageIndex + Paging.PageSize < Paging.TotalEntityCount)
			Paging.PageIndex += Paging.PageSize;

		await OnClickPaging.InvokeAsync(EventArgs.Empty);
	}
}
